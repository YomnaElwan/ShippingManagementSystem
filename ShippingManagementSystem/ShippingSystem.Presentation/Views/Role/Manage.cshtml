@using ShippingSystem.Presentation.ViewModels.PermissionsVM
@model RoleClaimsVM

<h3>Manage Claims for Role: <span class="text-primary">@Model.RoleName</span></h3>

<div class="row mt-3">
    <div class="col-md-5">
        <h5>Current Permissions</h5>
        <ul class="list-group">
            @foreach (var claim in Model.RoleClaims)
            {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @claim.ClaimValue
                    <form asp-action="DeleteClaim" method="post">
                        <input type="hidden" name="roleId" value="@Model.RoleId" />
                        <input type="hidden" name="permission" value="@claim.ClaimValue" />
                        <button class="btn btn-danger btn-sm">Remove</button>
                    </form>
                </li>
            }
        </ul>
    </div>

    <div class="col-md-5 offset-md-1">
        <h5>Add New Permission</h5>
        <form asp-action="AddClaim" method="post">
            <input type="hidden" name="roleId" value="@Model.RoleId" />
            <select name="permission" class="form-select mb-3">
                @foreach (var perm in Model.AllPermissions)
                {
                    <option value="@perm">@perm</option>
                }
            </select>
            <button type="submit" class="btn btn-success">Add</button>
        </form>
    </div>
</div>
